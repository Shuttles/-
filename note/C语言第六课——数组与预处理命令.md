# C语言第六课——数组与预处理命令

## 数组：

1. 数组是展开的函数，函数是压缩的数组。（经典例题：秦腾的教学评估）
2. 计算机中最重要的两类资源：计算资源（函数）、存储资源（数组）。　他俩可以互相转化。
3. 数组和函数的本质是相同的——映射。
4. 函数的形参中如果有函数，则可以换成数组。



## 数组与地址：

1. 一维数组在做函数参数时，形参可用int *a， 实参传入a就行，如下

   

   ```c
   int func(int *a) {
       return a[1];
   }
   
   int main() {
       int a[10];
       printf("a[1] = %d\n", func(a));
   }
   
   //实际上两者有着本质上的区别，用sizeof输出一下func函数中的a和主函数中的a就知道区别了
   //func函数中的a本质上是个指针型变量，sizeof(a)是8个字节
   //主函数中的a本质上是个数组的首地址，sizeof(a)是40字节
   ```

2. 二维及以上数组在做函数参数时，不可以用int **a，因为这时候a + 1会移动8个字节而在主函数中的a + 1会移动一行的int数的字节。如下

   ``` c
   int func(int (*a)[100]) {
       return a[1][3];
   }
   
   int main() {
       int a[10][100];
       a[1][3] = 641;
       printf("a[1][3] = %d\n", func(a));
   }
   //要想成功传参，必须保证主函数中实参a + 1移动的字节数==传入的函数中的形参a+1移动的字节数
   //即只有第一维的参数可以省略
   ```

   

## 预处理命令：



1. 学会预处理命令，就可以从木匠变为==魔法师==

2. 宏定义

+ ==只占一行==
+ ==只是简单的替换！！！==

3. 如果换了环境不好使，那就是非标准的。

4. #代表将后面的东西字符串化，即用双引号包围。

5. ##则用来连接两个前后参数，把它们变成一个字符串。（直接用有bug,必须包一个)

   

   ```c++
   //演示4, 5中#　和 ##的作用
   #define contact(a, b) a##b
   #define P(a) {\
   	printf("%s = %d\n", #a, a);\
   }
   int main() {
   		int abcdef = 5;
   		contact(abc, def) = 21;
   		P(abcdef)
           return 0;
   }
   //第三行输出结果是21
   ```

   ```c++
   //解决bug的方法就是里面再套一层contact宏
   
   #define __contact(a, b) a##b
   #define contact(a, b) __contact(a, b)
   ```

   

6. 宏展开遇到＃或者##就停止

7. 习题：ｍａｘ宏、ｌｏｇ宏（有颜色）

## 其他：

1. 单纯的{}里面是代码块，这块代码没有返回值，只有在外层套一层()才变成==表达式==,而表达式的值就是复合语句的最后一个语句的值，类型是最后一个语句的类型。
2. ()内部不允许有多条语句？？？？？